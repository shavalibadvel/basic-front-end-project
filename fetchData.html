<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <title>Fetch Posts</title>
  </head>
  <body>
    <div class="container-fluid">
      <ul class="post-list"></ul>
    </div>
  </body>
  <script>
    //Getting API Data + Process it using DOM + Show onto UI

    //FETCH is promise which help to capture data from external endpoint
    //FETCH--> CREATE PROMISE + PROCESS PROMISE
    /*
    //Promise declaration
    const postAPIPromise = fetch("https://jsonplaceholder.typicode.com/posts") ;

    // Handling and processing the promise kjfbvj kjs ,nfb,fjfhjfgnaifghkjm,ngbkj

    postAPIPromise.then(function (rawData) {
      console.log(rawData);
      //rawData.json()--> Promise
      rawData.json().then(function (finalData) {
        console.log(finalData);
        //DOM
        const ulWrapper = document.querySelector(".post-list");
        finalData.forEach(function (post) {
          const liEle = document.createElement("li");
          liEle.textContent = post.title;
          ulWrapper.append(liEle);
        });
      });
    });
    */

    async function getPostDataFromAPI() {
      try {
        const rawData = await fetch(
          "https://jsonplaceholder.typicode.com/posts"
        );
        const finalData = await rawData.json();
        //DOM
        const ulWrapper = document.querySelector(".post-list");
        finalData.forEach(function (post) {
          const liEle = document.createElement("li");
          liEle.textContent = post.title;
          ulWrapper.append(liEle);
        });
      } catch (err) {
        console.error(err);
      }
    }

    getPostDataFromAPI();
  </script>
</html>
